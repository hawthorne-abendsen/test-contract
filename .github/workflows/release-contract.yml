name: Rust

on:
  push:
    tags:
      - 'v*'

jobs:
  release-contract:
    uses: hawthorne-abendsen/contract-build-workflow/.github/workflows/create-contract-release.yml@v0.6.6
    with:
      release_name: ${{ github.ref_name }}
      contract_dirs: '["contract2/nested", "", "contract"]'
      release_description: 'Release of the contract'
    secrets:
      release_token: ${{ secrets.GITHUB_TOKEN }}